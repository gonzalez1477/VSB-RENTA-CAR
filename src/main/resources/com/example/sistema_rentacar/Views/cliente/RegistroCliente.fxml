<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>

<AnchorPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.sistema_rentacar.Controllers.Cliente.RegistroClienteController"
            prefHeight="750" prefWidth="1100"
            style="-fx-background-color: linear-gradient(to bottom right, #5a7d9a, #2c3e50);">

    <ScrollPane fitToWidth="true" fitToHeight="true"
                style="-fx-background: transparent; -fx-background-color: transparent;"
                hbarPolicy="NEVER"
                AnchorPane.topAnchor="20" AnchorPane.bottomAnchor="20"
                AnchorPane.leftAnchor="50" AnchorPane.rightAnchor="50">

        <VBox alignment="CENTER" spacing="0">

            <!-- Card de Registro -->
            <VBox spacing="0" maxWidth="900" prefWidth="900"
                  style="-fx-background-color: white;
                         -fx-background-radius: 20;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 20, 0, 0, 5);">

                <!-- Header con logo y t铆tulo -->
                <VBox alignment="CENTER" spacing="12"
                      style="-fx-background-color: linear-gradient(to right, #667eea, #764ba2);
                             -fx-background-radius: 20 20 0 0;">
                    <padding>
                        <Insets top="30" right="40" bottom="30" left="40"/>
                    </padding>

                    <!-- Logo -->
                    <StackPane prefHeight="80" prefWidth="80">
                        <Circle fill="white" radius="45" opacity="0.9"/>
                        <ImageView fitHeight="70" fitWidth="70" preserveRatio="true">
                            <image>
                                <Image url="@../../images/logo/logo1.png" />
                            </image>
                        </ImageView>
                    </StackPane>

                    <Label text="Crear Nueva Cuenta"
                           style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                    <Label text="Complete sus datos para registrarse en el sistema"
                           style="-fx-font-size: 13px; -fx-text-fill: rgba(255,255,255,0.9);"/>
                </VBox>

                <!-- Contenido del formulario -->
                <VBox spacing="25">
                    <padding>
                        <Insets top="35" right="45" bottom="35" left="45"/>
                    </padding>

                    <!-- Secci贸n: Informaci贸n Personal -->
                    <VBox spacing="15">
                        <HBox alignment="CENTER_LEFT" spacing="8">
                            <Label text="" style="-fx-font-size: 18px;"/>
                            <Label text="Informaci贸n Personal"
                                   style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                        </HBox>

                        <GridPane hgap="15" vgap="12">
                            <!-- Nombre -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="Nombre *"
                                       style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>
                                <TextField fx:id="txtNombre" promptText="Ingrese su nombre"
                                           style="-fx-font-size: 13px; -fx-padding: 10; -fx-border-color: #dfe6e9;
                                                  -fx-border-radius: 8; -fx-background-radius: 8;"/>
                            </VBox>

                            <!-- Apellido -->
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="Apellido *"
                                       style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>
                                <TextField fx:id="txtApellido" promptText="Ingrese su apellido"
                                           style="-fx-font-size: 13px; -fx-padding: 10; -fx-border-color: #dfe6e9;
                                                  -fx-border-radius: 8; -fx-background-radius: 8;"/>
                            </VBox>

                            <!-- Email -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Label text="Correo Electr贸nico *"
                                       style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>
                                <TextField fx:id="txtEmail" promptText="correo@ejemplo.com"
                                           style="-fx-font-size: 13px; -fx-padding: 10; -fx-border-color: #dfe6e9;
                                                  -fx-border-radius: 8; -fx-background-radius: 8;"/>
                            </VBox>

                            <!-- Tel茅fono -->
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Label text="Tel茅fono *"
                                       style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>
                                <TextField fx:id="txtTelefono" promptText="0000-0000"
                                           style="-fx-font-size: 13px; -fx-padding: 10; -fx-border-color: #dfe6e9;
                                                  -fx-border-radius: 8; -fx-background-radius: 8;"/>
                            </VBox>

                            <!-- DUI -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="2">
                                <Label text="DUI *"
                                       style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>
                                <TextField fx:id="txtDui" promptText="00000000-0"
                                           style="-fx-font-size: 13px; -fx-padding: 10; -fx-border-color: #dfe6e9;
                                                  -fx-border-radius: 8; -fx-background-radius: 8;"/>
                            </VBox>

                            <!-- Licencia -->
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="2">
                                <Label text="Licencia de Conducir *"
                                       style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>
                                <TextField fx:id="txtLicencia" promptText="N煤mero de licencia"
                                           style="-fx-font-size: 13px; -fx-padding: 10; -fx-border-color: #dfe6e9;
                                                  -fx-border-radius: 8; -fx-background-radius: 8;"/>
                            </VBox>

                            <!-- Fecha Nacimiento -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="3">
                                <Label text="Fecha de Nacimiento *"
                                       style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>
                                <DatePicker fx:id="dpFechaNacimiento" promptText="DD/MM/AAAA"
                                            prefWidth="Infinity"
                                            style="-fx-font-size: 13px;"/>
                            </VBox>

                            <!-- Direcci贸n -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="4" GridPane.columnSpan="2">
                                <Label text="Direcci贸n *"
                                       style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>
                                <TextArea fx:id="txtDireccion" promptText="Ingrese su direcci贸n completa"
                                          prefRowCount="2"
                                          style="-fx-font-size: 13px; -fx-border-color: #dfe6e9;
                                                 -fx-border-radius: 8; -fx-background-radius: 8;"/>
                            </VBox>

                            <columnConstraints>
                                <ColumnConstraints hgrow="ALWAYS" percentWidth="50"/>
                                <ColumnConstraints hgrow="ALWAYS" percentWidth="50"/>
                            </columnConstraints>
                        </GridPane>
                    </VBox>

                    <!-- Separador decorativo -->
                    <Separator style="-fx-background-color: #ecf0f1;"/>

                    <!-- Secci贸n: Credenciales de Acceso -->
                    <VBox spacing="15">
                        <HBox alignment="CENTER_LEFT" spacing="8">
                            <Label text="" style="-fx-font-size: 18px;"/>
                            <Label text="Credenciales de Acceso"
                                   style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                        </HBox>

                        <GridPane hgap="15" vgap="12">
                            <!-- Usuario -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Label text="Nombre de Usuario *"
                                       style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>
                                <TextField fx:id="txtUsuario" promptText="Elija un nombre de usuario"
                                           style="-fx-font-size: 13px; -fx-padding: 10; -fx-border-color: #dfe6e9;
                                                  -fx-border-radius: 8; -fx-background-radius: 8;"/>
                            </VBox>

                            <!-- Contrase帽a -->
                            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Label text="Contrase帽a *"
                                       style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>
                                <PasswordField fx:id="txtContrasena" promptText="M铆nimo 6 caracteres"
                                               style="-fx-font-size: 13px; -fx-padding: 10; -fx-border-color: #dfe6e9;
                                                      -fx-border-radius: 8; -fx-background-radius: 8;"/>
                            </VBox>

                            <!-- Confirmar Contrase帽a -->
                            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.columnSpan="2">
                                <Label text="Confirmar Contrase帽a *"
                                       style="-fx-font-weight: 600; -fx-text-fill: #34495e; -fx-font-size: 13px;"/>
                                <PasswordField fx:id="txtConfirmarContrasena" promptText="Repita la contrase帽a"
                                               style="-fx-font-size: 13px; -fx-padding: 10; -fx-border-color: #dfe6e9;
                                                      -fx-border-radius: 8; -fx-background-radius: 8;"/>
                            </VBox>

                            <columnConstraints>
                                <ColumnConstraints hgrow="ALWAYS" percentWidth="50"/>
                                <ColumnConstraints hgrow="ALWAYS" percentWidth="50"/>
                            </columnConstraints>
                        </GridPane>
                    </VBox>

                    <!-- Mensajes de error/茅xito -->
                    <VBox spacing="8">
                        <HBox fx:id="hboxError" visible="false" alignment="CENTER_LEFT" spacing="8"
                              style="-fx-background-color: #fee; -fx-padding: 12; -fx-background-radius: 8; -fx-border-color: #e74c3c; -fx-border-radius: 8; -fx-border-width: 1;">
                            <Label text="-" style="-fx-font-size: 14px;"/>
                            <Label fx:id="lblError" text="Error en el registro" wrapText="true"
                                   style="-fx-text-fill: #c0392b; -fx-font-size: 13px; -fx-font-weight: 600;"/>
                        </HBox>

                        <HBox fx:id="hboxExito" visible="false" alignment="CENTER_LEFT" spacing="8"
                              style="-fx-background-color: #efffef; -fx-padding: 12; -fx-background-radius: 8; -fx-border-color: #27ae60; -fx-border-radius: 8; -fx-border-width: 1;">
                            <Label text="-" style="-fx-font-size: 14px;"/>
                            <Label fx:id="lblExito" text="Registro exitoso" wrapText="true"
                                   style="-fx-text-fill: #229954; -fx-font-size: 13px; -fx-font-weight: 600;"/>
                        </HBox>
                    </VBox>

                    <!-- Botones de acci贸n -->
                    <HBox spacing="12" alignment="CENTER">
                        <Button fx:id="btnRegistrar" text="Crear Cuenta" onAction="#handleRegistrar"
                                prefWidth="220" prefHeight="45"
                                style="-fx-background-color: linear-gradient(to right, #667eea, #764ba2);
                                       -fx-text-fill: white;
                                       -fx-font-size: 15px;
                                       -fx-font-weight: bold;
                                       -fx-background-radius: 10;
                                       -fx-cursor: hand;
                                       -fx-effect: dropshadow(gaussian, rgba(102,126,234,0.4), 8, 0, 0, 3);"/>

                        <Button text="Cancelar" onAction="#handleVolverLogin"
                                prefWidth="220" prefHeight="45"
                                style="-fx-background-color: #95a5a6;
                                       -fx-text-fill: white;
                                       -fx-font-size: 15px;
                                       -fx-font-weight: bold;
                                       -fx-background-radius: 10;
                                       -fx-cursor: hand;"/>
                    </HBox>

                    <!-- Enlace de login -->
                    <VBox alignment="CENTER" spacing="5">
                        <Separator prefWidth="250" style="-fx-background-color: #ecf0f1;"/>
                        <HBox alignment="CENTER" spacing="5">
                            <Label text="驴Ya tienes una cuenta?"
                                   style="-fx-text-fill: #7f8c8d; -fx-font-size: 13px;"/>
                            <Hyperlink text="Inicia sesi贸n aqu铆" onAction="#handleVolverLogin"
                                       style="-fx-text-fill: #667eea; -fx-font-weight: bold; -fx-font-size: 13px;"/>
                        </HBox>
                    </VBox>

                </VBox>

            </VBox>
        </VBox>
    </ScrollPane>

</AnchorPane>