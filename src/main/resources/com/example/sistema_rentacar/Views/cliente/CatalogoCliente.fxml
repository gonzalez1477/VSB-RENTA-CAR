<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>

<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<HBox prefHeight="800" prefWidth="1200"
      xmlns="http://javafx.com/javafx/25"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.example.sistema_rentacar.Controllers.Cliente.CatalogoClienteController">

    <!-- Sidebar -->
    <VBox prefWidth="280"
          style="-fx-background-color: linear-gradient(to bottom, #2c3e50, #34495e);">

        <!-- Alerta de Alquiler Activo con Cron贸metro -->
        <VBox fx:id="vboxAlquilerActivo" spacing="10"
              style="-fx-background-color: linear-gradient(to right, #f39c12, #e67e22);
                     -fx-background-radius: 10; -fx-padding: 15;"
              visible="false" managed="false">

            <VBox.margin>
                <Insets bottom="5"/>
            </VBox.margin>

            <!-- T铆tulo -->
            <Label fx:id="lblAlquilerActivo"
                   style="-fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: bold;"
                   text="Tienes un alquiler activo"
                   wrapText="true"/>

            <!-- Cron贸metro -->
            <HBox alignment="CENTER_LEFT" spacing="8"
                  style="-fx-background-color: rgba(0,0,0,0.2); -fx-padding: 10; -fx-background-radius: 5;">
                <Label text="憋" style="-fx-font-size: 20px;"/>
                <VBox spacing="2">
                    <Label text="Tiempo restante:"
                           style="-fx-text-fill: white; -fx-font-size: 11px; -fx-font-weight: bold;"/>
                    <Label fx:id="lblTiempoRestante"
                           text="Calculando..."
                           style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 16px;"/>
                </VBox>
            </HBox>

            <!-- Informaci贸n adicional -->
            <HBox alignment="CENTER_LEFT" spacing="5">
                <Label text="" style="-fx-font-size: 14px;"/>
                <Label fx:id="lblFechaFin"
                       text="Fecha fin: --/--/----"
                       style="-fx-text-fill: white; -fx-font-size: 11px;"/>
            </HBox>

            <Button fx:id="btnAlquilerActivo"
                    onAction="#handleVerAlquilerActivo"
                    maxWidth="Infinity"
                    style="-fx-background-color: white; -fx-text-fill: #f39c12;
                           -fx-font-weight: bold; -fx-padding: 8; -fx-cursor: hand;
                           -fx-background-radius: 5;"
                    text="Ver Detalles Completos" />
        </VBox>

        <padding>
            <Insets top="30" bottom="30" left="20" right="20"/>
        </padding>

        <!-- Logo/T铆tulo -->
        <VBox alignment="CENTER" spacing="10" style="-fx-padding: 0 0 30 0;">

            <Label style="-fx-text-fill: #3498db; -fx-font-size: 18px; -fx-font-weight: bold;" text=" VSB Renta Car" />
        </VBox>

        <Separator style="-fx-background-color: rgba(255,255,255,0.2);">
            <VBox.margin>
                <Insets bottom="20"/>
            </VBox.margin>
        </Separator>

        <!-- Informaci贸n del Usuario -->
        <VBox spacing="10"
              style="-fx-background-color: rgba(255,255,255,0.1);
                     -fx-background-radius: 10; -fx-padding: 15;">
            <Label fx:id="lblBienvenida"
                   style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;"
                   text="Bienvenido" />
            <Label style="-fx-text-fill: #bdc3c7; -fx-font-size: 12px;" text="Cliente" />
        </VBox>

        <Region VBox.vgrow="SOMETIMES">
            <VBox.margin>
                <Insets top="20" bottom="20"/>
            </VBox.margin>
        </Region>

        <!-- Men煤 de Navegaci贸n -->
        <VBox spacing="10">

            <!-- Bot贸n Iniciar Sesi贸n -->
            <Button fx:id="btnIniciarSesion"
                    onAction="#handleIniciarSesion"
                    onMouseEntered="#handleMouseEntered"
                    onMouseExited="#handleMouseExited"
                    maxWidth="Infinity"
                    style="-fx-background-color: #3498db; -fx-text-fill: white;
                           -fx-font-weight: bold; -fx-padding: 12; -fx-cursor: hand;
                           -fx-background-radius: 8; -fx-font-size: 14px;"
                    text=" Iniciar Sesi贸n"
                    visible="false"
                    managed="false"/>

            <!-- Separador -->
            <Separator fx:id="separadorSesion"
                       style="-fx-background-color: rgba(255,255,255,0.2);"
                       visible="false"
                       managed="false">
                <VBox.margin>
                    <Insets top="5" bottom="5"/>
                </VBox.margin>
            </Separator>

            <!-- Botones de Usuario Autenticado -->
            <Button fx:id="btnMiPerfil"
                    onAction="#handleMiPerfil"
                    onMouseEntered="#handleMouseEntered"
                    onMouseExited="#handleMouseExited"
                    maxWidth="Infinity"
                    style="-fx-background-color: rgba(255,255,255,0.1);
                           -fx-text-fill: white; -fx-font-weight: bold;
                           -fx-padding: 12; -fx-cursor: hand; -fx-background-radius: 8;
                           -fx-alignment: CENTER-LEFT; -fx-font-size: 14px;"
                    text="    Mi Perfil"
                    managed="false"/>

            <Button fx:id="btnHistorial"
                    onAction="#handleVerHistorial"
                    onMouseEntered="#handleMouseEntered"
                    onMouseExited="#handleMouseExited"
                    maxWidth="Infinity"
                    style="-fx-background-color: rgba(255,255,255,0.1);
                           -fx-text-fill: white; -fx-font-weight: bold;
                           -fx-padding: 12; -fx-cursor: hand; -fx-background-radius: 8;
                           -fx-alignment: CENTER-LEFT; -fx-font-size: 14px;"
                    text="    Mis Alquileres"
                    managed="false"/>

            <!-- Bot贸n refrescar -->
            <Button onAction="#handleRefrescar"
                    onMouseEntered="#handleMouseEntered"
                    onMouseExited="#handleMouseExited"
                    maxWidth="Infinity"
                    style="-fx-background-color: #27ae60; -fx-text-fill: white;
                           -fx-font-weight: bold; -fx-padding: 12; -fx-cursor: hand;
                           -fx-background-radius: 8; -fx-alignment: CENTER-LEFT;
                           -fx-font-size: 14px;"
                    text="    Refrescar Cat谩logo" />
        </VBox>

        <Region VBox.vgrow="ALWAYS"/>

        <!-- Bot贸n Cerrar Sesi贸n -->
        <Button onAction="#handleCerrarSesion"
                onMouseEntered="#handleMouseEntered"
                onMouseExited="#handleMouseExited"
                maxWidth="Infinity"
                style="-fx-background-color: #e74c3c; -fx-text-fill: white;
                       -fx-font-weight: bold; -fx-padding: 12; -fx-cursor: hand;
                       -fx-background-radius: 8; -fx-font-size: 14px;"
                text=" Cerrar Sesi贸n" />

        <!--
        <Label style="-fx-text-fill: #7f8c8d; -fx-font-size: 10px; -fx-padding: 15 0 0 0;"
               text="漏 2025 VSB Renta Car"
               wrapText="true">
            <VBox.margin>
                <Insets top="20"/>
            </VBox.margin>
        </Label>

        -->

    </VBox>

    <!-- rea de Contenido Principal -->
    <BorderPane HBox.hgrow="ALWAYS" style="-fx-background-color: #ecf0f1;">

        <top>
            <HBox alignment="CENTER_LEFT" spacing="15"
                  style="-fx-background-color: white; -fx-padding: 20;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);">
                <Label style="-fx-text-fill: #2c3e50; -fx-font-size: 24px;
                               -fx-font-weight: bold;"
                       text="Cat谩logo de Veh铆culos" />
                <Region HBox.hgrow="ALWAYS" />
                <Label style="-fx-text-fill: #7f8c8d; -fx-font-size: 14px;"
                       text="Selecciona el veh铆culo perfecto para ti" />
            </HBox>
        </top>

        <center>
            <ScrollPane fitToWidth="true"
                        style="-fx-background-color: transparent; -fx-background: #ecf0f1;">
                <VBox fx:id="contenedorCategorias"
                      spacing="35"
                      style="-fx-padding: 30;" />
            </ScrollPane>
        </center>

    </BorderPane>

</HBox>
