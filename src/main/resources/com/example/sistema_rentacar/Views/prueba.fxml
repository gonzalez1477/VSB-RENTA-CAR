<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.ProgressIndicator?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<AnchorPane style="-fx-background-color: linear-gradient(to bottom right, #5a7d9a, #2c3e50);"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.sistema_rentacar.Controllers.Cliente.LoginClienteController">

    <children>
        <!-- Contenedor principal centrado -->
        <StackPane alignment="CENTER"
                   AnchorPane.bottomAnchor="20"
                   AnchorPane.leftAnchor="20"
                   AnchorPane.rightAnchor="20"
                   AnchorPane.topAnchor="20">
            <children>

                <!-- Tarjeta central -->
                <AnchorPane fx:id="cardLogin"
                            maxHeight="750"
                            maxWidth="700"
                            minHeight="650"
                            minWidth="480"
                            prefHeight="720"
                            prefWidth="620"
                            style="-fx-background-color: white;
                                   -fx-background-radius: 22;
                                   -fx-border-radius: 22;
                                   -fx-border-color: #D99201;
                                   -fx-border-width: 2;
                                   -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 10, 0, 0, 4);"
                            stylesheets="@../../css/loginCliente.css">
                    <children>

                        <!-- Logo -->
                        <ImageView fx:id="logoImage"
                                   fitHeight="220"
                                   fitWidth="220"
                                   preserveRatio="true"
                                   AnchorPane.leftAnchor="200"
                                   AnchorPane.rightAnchor="200"
                                   AnchorPane.topAnchor="30">
                            <image>
                                <Image url="@../../images/logo/logo1.png" />
                            </image>
                        </ImageView>

                        <!-- Contenedor del formulario -->
                        <VBox alignment="CENTER"
                              spacing="16"
                              AnchorPane.bottomAnchor="35"
                              AnchorPane.leftAnchor="60"
                              AnchorPane.rightAnchor="60"
                              AnchorPane.topAnchor="265">

                            <!-- Encabezado -->
                            <VBox alignment="CENTER" spacing="8">
                                <!-- Ícono de usuario -->
                                <ImageView fx:id="userIcon"
                                           fitHeight="50"
                                           fitWidth="50"
                                           preserveRatio="true">
                                    <image>
                                        <Image url="https://img.icons8.com/color/96/user-male-circle--v2.png" />
                                    </image>
                                </ImageView>

                                <!-- Subtítulo -->
                                <Label text="Accede con tus credenciales para continuar"
                                       style="-fx-text-fill: #7f8c8d; -fx-font-size: 14px;" />
                            </VBox>

                            <!-- Campo usuario -->
                            <VBox prefWidth="420" spacing="6">
                                <Label text="Usuario"
                                       style="-fx-text-fill: #00401B; -fx-font-weight: bold; -fx-font-size: 15px;" />
                                <TextField fx:id="txtUsuario"
                                           promptText="Ingrese su usuario"
                                           styleClass="material-textfield" />
                            </VBox>

                            <!-- Campo contraseña con enlace de recuperación -->
                            <VBox prefWidth="420" spacing="6">
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label text="Contraseña"
                                           style="-fx-text-fill: #00401B; -fx-font-weight: bold; -fx-font-size: 15px;" />
                                    <HBox HBox.hgrow="ALWAYS"/>
                                    <Hyperlink fx:id="linkRecuperar"
                                               onAction="#handleOlvideContrasena"
                                               text="¿Olvidaste tu contraseña?"
                                               style="-fx-text-fill: #D99201; -fx-font-size: 14px; -fx-underline: false; -fx-padding: 0;">
                                        <cursor>
                                            <javafx.scene.Cursor fx:constant="HAND" />
                                        </cursor>
                                    </Hyperlink>
                                </HBox>
                                <PasswordField fx:id="txtContrasena"
                                               promptText="Ingrese su contraseña"
                                               styleClass="material-textfield" />
                            </VBox>

                            <!-- Mensaje de error -->
                            <Label fx:id="lblError"
                                   text="Error en las credenciales"
                                   visible="false"
                                   wrapText="true"
                                   maxWidth="400"
                                   style="-fx-text-fill: #e74c3c; -fx-font-size: 12px; -fx-font-weight: bold; -fx-padding: 8 0 0 0;" />

                            <!-- Indicador de carga -->
                            <HBox fx:id="hboxCargando"
                                  alignment="CENTER"
                                  spacing="10"
                                  visible="false">
                                <ProgressIndicator prefHeight="28" prefWidth="28" />
                                <Label text="Iniciando sesión..."
                                       style="-fx-text-fill: #5a7d9a; -fx-font-size: 14px;" />
                            </HBox>

                            <!-- Botón de inicio de sesión -->
                            <Button fx:id="btnLogin"
                                    text="Iniciar Sesión"
                                    onAction="#handleLogin"
                                    maxWidth="220"
                                    prefHeight="45"
                                    styleClass="btn-primary">
                                <VBox.margin>
                                    <Insets top="8" />
                                </VBox.margin>
                                <cursor>
                                    <javafx.scene.Cursor fx:constant="HAND" />
                                </cursor>
                            </Button>

                            <!-- Separador y opciones adicionales -->
                            <VBox alignment="CENTER"
                                  prefWidth="420"
                                  spacing="12">
                                <VBox.margin>
                                    <Insets top="8" />
                                </VBox.margin>

                                <Separator prefWidth="350" />

                                <!-- Enlace de registro -->
                                <HBox alignment="CENTER" spacing="6">
                                    <Label text="¿No tienes cuenta?"
                                           style="-fx-text-fill: #2c3e50; -fx-font-size: 14px;" />
                                    <Hyperlink fx:id="linkRegistro"
                                               onAction="#handleRegistro"
                                               text="Regístrate aquí"
                                               style="-fx-text-fill: #D99201; -fx-font-weight: bold; -fx-font-size: 14px; -fx-underline: false;">
                                        <cursor>
                                            <javafx.scene.Cursor fx:constant="HAND" />
                                        </cursor>
                                    </Hyperlink>
                                </HBox>

                                <!-- Enlace de invitado -->
                                <Hyperlink fx:id="linkInvitado"
                                           onAction="#handleInvitado"
                                           text="Continuar como invitado"
                                           style="-fx-text-fill: #5a7d9a; -fx-font-size: 13px; -fx-underline: true;">
                                    <cursor>
                                        <javafx.scene.Cursor fx:constant="HAND" />
                                    </cursor>
                                </Hyperlink>

                            </VBox>

                        </VBox>
                    </children>
                </AnchorPane>
            </children>
        </StackPane>
    </children>
</AnchorPane>

